sudo: required
dist: xenial

language: go
go:
  - 1.12.10

services: docker

install:
 - go get -u golang.org/x/lint/golint

script:
  - golint -set_exit_status $(go list ./...) > mediator_lint_result.txt
  - cd OSSMediatorCollector && make all && cd ..
  - cd OpenNMSPlugin && make all && cd ..

after_failure:
  - '[ -s mediator_lint_result.txt ] && echo "Lint Errors:" && cat mediator_lint_result.txt'
